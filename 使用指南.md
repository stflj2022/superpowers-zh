
https://github.com/obra/superpowers
# Superpowers 中文版 使用指南

## 项目简介

Superpowers 中文版是一个为 Claude Code 设计的 AI 编码代理技能框架和软件开发工作流。它通过可组合的"技能"(skills)和指令，帮助你的 AI 代理更高效地完成软件开发任务。

**项目路径**: `F:\memory\superpowers-zh`

---

## 安装

在 Claude Code 中执行：

```bash
/plugin install https://github.com/stflj2022/superpowers-zh
```

**或** 从本地安装（Windows）：

```bash
/plugin install F:/memory/superpowers-zh
```

安装成功后验证：

```bash
/help
```

你应该能看到以下命令：

| 命令 | 功能 |
|------|------|
| `/superpowers-zh:brainstorm` | 头脑风暴设计优化 |
| `/superpowers-zh:write-plan` | 创建实施计划 |
| `/superpowers-zh:execute-plan` | 批量执行计划 |

---

## 核心技能列表

### 协作类

| 技能 | 功能 |
|------|------|
| **brainstorming** | 苏格拉底式设计优化 - 在编写代码前探索需求 |
| **writing-plans** | 详细的实施计划 - 将工作分解为小型任务 |
| **executing-plans** | 带检查点的批量执行 - 分批执行任务 |
| **subagent-driven-development** | 子代理驱动开发 - 快速迭代，两阶段审查 |
| **requesting-code-review** | 请求代码审查 - 预审查清单 |
| **using-git-worktrees** | 并行开发分支 - 隔离工作空间 |
| **finishing-a-development-branch** | 完成开发分支 - 合并/PR 决策工作流 |

### 测试类

| 技能 | 功能 |
|------|------|
| **test-driven-development** | RED-GREEN-REFACTOR 循环 |

### 调试类

| 技能 | 功能 |
|------|------|
| **systematic-debugging** | 4 阶段根本原因过程 |
| **verification-before-completion** | 确保问题真正被修复 |

### 元技能

| 技能 | 功能 |
|------|------|
| **writing-skills** | 创建新技能 |
| **using-superpowers** | 技能系统介绍 |

---

## 核心工作流程

```
1. 头脑风暴 (brainstorming)
   ↓
   通过问题细化需求，探索方案，分阶段展示设计

   ↓ 设计批准

2. 使用 Git Worktrees (using-git-worktrees)
   ↓
   创建隔离工作空间，运行项目设置

   ↓

3. 编写计划 (writing-plans)
   ↓
   将工作分解为 2-5 分钟的小任务

   ↓

4. 执行计划 (executing-plans / subagent-driven-development)
   ↓
   批量执行 或 子代理驱动

   ↓

5. 完成开发分支 (finishing-a-development-branch)
   ↓
   验证测试，合并/PR，清理
```

---

## 快速开始

### 场景：开发一个新功能

**步骤 1：启动头脑风暴**
```
/superpowers-zh:brainstorm
我想实现一个待办事项应用
```

**步骤 2：创建实施计划**
```
/superpowers-zh:write-plan
```

**步骤 3：执行计划**
```
/superpowers-zh:execute-plan
```

---

## 技能自动触发

安装后，技能会在以下场景自动触发：

| 场景 | 自动触发的技能 |
|------|---------------|
| 开始编写代码 | brainstorming |
| 设计确定后 | writing-plans |
| 执行任务时 | test-driven-development |
| 遇到 bug | systematic-debugging |
| 任务完成 | requesting-code-review |

---

## 核心原则

- **测试驱动开发** - 始终先编写测试
- **系统化而非临时** - 流程而非猜测
- **降低复杂性** - 简单性作为主要目标
- **证据而非声明** - 在声明成功之前先验证

---

## 命令参考

| 命令 | 说明 |
|------|------|
| `/superpowers-zh:brainstorm` | 开始头脑风暴，细化需求 |
| `/superpowers-zh:write-plan` | 根据设计创建实施计划 |
| `/superpowers-zh:execute-plan` | 批量执行计划，每批后暂停检查 |

---

## 技能触发规则

在**任何响应或行动之前**，检查是否有相关技能：

1. 可能需要设计？ → brainstorming
2. 需要实施计划？ → writing-plans
3. 需要编写代码？ → test-driven-development
4. 遇到 bug？ → systematic-debugging

---

## 文件结构

```
superpowers-zh/
├── .claude-plugin/
│   ├── plugin.json       # 插件配置
│   └── marketplace.json  # 市场配置
├── commands/             # 用户可调用命令
│   ├── brainstorm.md
│   ├── write-plan.md
│   └── execute-plan.md
└── skills/               # 技能库
    ├── brainstorming/
    ├── writing-plans/
    ├── executing-plans/
    ├── test-driven-development/
    ├── systematic-debugging/
    ├── using-git-worktrees/
    ├── subagent-driven-development/
    ├── finishing-a-development-branch/
    ├── requesting-code-review/
    ├── writing-skills/
    └── using-superpowers/
```

---

## Windows 手动安装（经验总结）

**适用场景**：当 `/plugin install` 命令无法使用时，可手动安装。

### 关键经验

经过 10 次修复验证，手动安装插件需要 **3 个配置文件同步修改**：

| 配置文件 | 作用 |
|---------|------|
| `plugins/known_marketplaces.json` | 注册 marketplace 源 |
| `plugins/installed_plugins.json` | 注册已安装插件 |
| **`settings.json` 中的 `enabledPlugins`** | **启用插件（最关键，最易遗漏）** |

### 插件系统的两阶段加载机制

1. **阶段1**：扫描 `plugins/` 目录，发现已注册的插件
2. **阶段2**：根据 `settings.json` 中的 `enabledPlugins` 决定实际加载哪些

**没有阶段2，插件只是"被发现"但不会被激活**。

### 配置一致性要求（重要！）

所有配置文件中的以下名称必须**完全一致**：

| 配置项 | 示例值 | 出现位置 |
|--------|--------|----------|
| Marketplace 名称 | `superpowers-zh-dev` | known_marketplaces.json、marketplace.json |
| 插件名称 | `superpowers-zh` | plugin.json、installed_plugins.json |
| 插件 ID | `superpowers-zh@superpowers-zh-dev` | installed_plugins.json、settings.json |

**不一致会导致插件无法加载**。

### 手动安装步骤

#### 1. 创建目录结构

```
C:/Users/<用户名>/.claude/plugins/
├── marketplaces/
│   └── superpowers-zh/          ← 源位置
├── cache/
│   └── superpowers-zh-dev/
│       └── superpowers-zh/
│           └── 1.0.0/           ← installPath 指向
├── known_marketplaces.json
└── installed_plugins.json
```

#### 2. 复制插件文件（包括隐藏目录）

**注意**：Git Bash 的 `cp -r` 不会自动复制隐藏目录（以点开头），需要单独复制：

```bash
# 创建缓存目录
mkdir -p "C:/Users/<用户名>/.claude/plugins/cache/superpowers-zh-dev/superpowers-zh/1.0.0"

# 复制所有文件
cp -r "F:/memory/superpowers-zh/"* "C:/Users/<用户名>/.claude/plugins/cache/superpowers-zh-dev/superpowers-zh/1.0.0/"

# 单独复制隐藏目录（关键！）
cp -r "F:/memory/superpowers-zh/.claude-plugin" "C:/Users/<用户名>/.claude/plugins/cache/superpowers-zh-dev/superpowers-zh/1.0.0/"
```

#### 3. 修改 `known_marketplaces.json`

```json
"superpowers-zh-dev": {
  "source": {
    "source": "directory",
    "path": "F:\\memory\\superpowers-zh"
  },
  "installLocation": "F:\\memory\\superpowers-zh",
  "lastUpdated": "2026-01-18T03:00:00.000Z"
}
```

#### 4. 修改 `installed_plugins.json`

```json
"superpowers-zh@superpowers-zh-dev": [{
  "scope": "user",
  "installPath": "C:\\Users\\<用户名>\\.claude\\plugins\\cache\\superpowers-zh-dev\\superpowers-zh\\1.0.0",
  "version": "1.0.0",
  "installedAt": "2026-01-18T03:00:00.000Z",
  "lastUpdated": "2026-01-18T03:00:00.000Z"
}]
```

#### 5. 修改 `settings.json`（最关键！）

```json
"enabledPlugins": {
  "superpowers-zh@superpowers-zh-dev": true
}
```

#### 6. 验证配置一致性

在修改完成后，检查以下内容是否一致：

| 检查项 | 位置 | 应匹配的值 |
|--------|------|-----------|
| Marketplace 名称 | cache/.../.claude-plugin/marketplace.json → `name` | `superpowers-zh-dev` |
| 插件名称 | cache/.../.claude-plugin/plugin.json → `name` | `superpowers-zh` |
| 插件 ID 前缀 | installed_plugins.json 中的键 | `superpowers-zh@superpowers-zh-dev` |
| 启用插件 | settings.json → `enabledPlugins` | `superpowers-zh@superpowers-zh-dev: true` |
| 缓存路径 | installed_plugins.json → `installPath` | 指向实际的缓存目录 |

#### 7. 验证安装

重启 Claude Code，输入 `/help`，应显示：
- `/superpowers-zh:brainstorm` - 头脑风暴
- `/superpowers-zh:write-plan` - 编写计划
- `/superpowers-zh:execute-plan` - 执行计划

### 故障排查

| 症状 | 可能原因 | 检查方法 |
|------|----------|----------|
| `/help` 看不到命令 | settings.json 缺少 enabledPlugins | 检查 `enabledPlugins` 是否包含插件 ID |
| 命令加载失败 | marketplace.json 名称不匹配 | 检查 `marketplace.json` 的 `name` 是否与 marketplace 一致 |
| 技能无法调用 | plugin.json 名称不匹配 | 检查 `plugin.json` 的 `name` 是否正确 |
| 部分功能缺失 | .claude-plugin 未复制 | 检查缓存目录是否存在 `.claude-plugin` 目录 |

---

## 更新

本地安装的插件无法自动更新。如需更新：

```bash
cd F:\memory\superpowers-zh
git pull
```

然后重新安装：

```bash
/plugin update superpowers-zh
```

---

## 原版项目

- **GitHub**: https://github.com/obra/superpowers
- **作者**: Jesse Vincent
- **许可证**: MIT

---

*中文翻译版 - 2025*
